import{r as a}from"./vendor.66f8334e.js";const w=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}};w();function m(e,n,o=200){const i=a.exports.useRef(!0);a.exports.useEffect(()=>{if(i.current){i.current=!1;return}const t=setTimeout(()=>{n(e)},o);return()=>clearTimeout(t)},[e])}function u(e,n){try{const o=localStorage.getItem(e);return o!==null?JSON.parse(o):n}catch(o){return console.error(o),n}}function f(e,n){try{localStorage.setItem(e,JSON.stringify(n))}catch(o){console.error(o)}}function b(e,n){const[o,i]=a.exports.useState(()=>u(e,n));m(o,r=>f(e,r));function t(r){try{const s=typeof r=="function"?r(o):r;i(s)}catch(s){console.error(s)}}return a.exports.useEffect(()=>{const r=s=>{try{if(s.key!==e)return;if(s.newValue){console.log(`Write Storage ${s.key}`);const c=JSON.parse(s.newValue);t(c)}}catch(c){console.error(c)}};return window.addEventListener("storage",r,!1),()=>{window.removeEventListener("storage",r)}},[]),[o,t]}const l={DESKTOP:"desktop",EVENTS:"events",BACKGROUND:"background",MINIMAP:"minimap"};function g(){return new Promise((e,n)=>{overwolf.windows.getCurrentWindow(o=>{o.success?e(o.window):n(o.error)})})}function d(e){return new Promise((n,o)=>{overwolf.windows.obtainDeclaredWindow(e,i=>{i.success?n(i.window):o(i.error)})})}async function O(){const e=await g();overwolf.windows.dragMove(e.id)}async function y(e){const n=await d(e);overwolf.windows.close(n.id)}async function P(){return y(l.BACKGROUND)}async function p(e,n){const o=await d(e);return new Promise((i,t)=>{if(o.isVisible){overwolf.windows.bringToFront(e,()=>{}),i(o.id);return}overwolf.windows.restore(e,async r=>{if(r.success){if(await new Promise(s=>overwolf.windows.bringToFront(e,s)),!n&&!u(`centered-${e}`,!1)){const c=o.name===l.MINIMAP;await S(e,c),f(`centered-${o.name}`,!0)}i(r.window_id)}else t(r.error)})})}function M(e){overwolf.windows.obtainDeclaredWindow(e,n=>{["normal","maximized"].includes(n.window.stateEx)?overwolf.windows.hide(n.window.id):p(n.window.name)})}async function W(e){return(await h()).find(i=>i.is_primary===e)}function h(){return new Promise(e=>{overwolf.utils.getMonitorsList(n=>{e(n.displays)})})}async function S(e,n=!0){const o=await W(n);if(!o)return;const i=await d(e);return new Promise(t=>{overwolf.windows.changePosition(i.name,o.x+Math.round((o.width-i.width)/2),0,()=>t())})}export{l as W,S as a,W as b,P as c,O as d,u as g,d as o,p as r,M as t,b as u};
